<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=1024, user-scalable=yes">
  <title>Millet Bites New Version</title>
  <style>
    /* ...[All original CSS remains unchanged]... */
  </style>
</head>
<body>
  <div class="overlay" id="overlay"></div>
  <div class="cart-panel" id="cartPanel">
    <div class="cart-panel-header">
      <h3>Your Cart</h3>
      <button class="close-cart" id="closeCart">&times;</button>
    </div>
    <div class="cart-items" id="panel-cart-items">
      <div class="empty-cart">Your cart is empty</div>
    </div>
    <div class="cart-summary">
      <p>Total: ‚Çπ0.00</p>
    </div>
    <div class="cart-buttons">
      <button class="order">Order on WhatsApp</button>
      <button class="clear">Clear Cart</button>
    </div>
  </div>

  <header>
    <h1>Millet Bites</h1>
    <div class="header-right">
      <nav>
        <a href="#home">Home</a>
        <a href="#menu">Menu</a>
        <a href="#about">About Us</a>
        <a href="#contact">Contact</a>
        <a href="#reviews">Reviews</a>
      </nav>
      <div class="cart-icon" id="cartIcon">
        üõí
        <span class="cart-count" id="cartCount">0</span>
      </div>
    </div>
  </header>
  <div class="scroll"><span>üéâ Special Offer: Get 10% OFF on all orders above ‚Çπ500! Limited time only! üéâ</span></div>
<section id="home" class="hero">
  <div class="slideshow-container">
    <a href="#menu">
    <img class="slides" src="b1.jpeg" alt="Combo 1" />
    </a>
    <a href="#menu">
    <img class="slides" src="b2.jpeg" alt="Combo 2" />
    </a>
    <a href="#menu">
    <img class="slides" src="b3.jpeg" alt="Combo 3" />
    </a> 
    <a href="#menu">
    <img class="slides" src="b4.jpeg" alt="Combo 4" />
    </a>
    <div style="text-align: center; margin-top: 10px;">
      <span class="dot" data-index="1"></span>
      <span class="dot" data-index="2"></span>
      <span class="dot" data-index="3"></span>
      <span class="dot" data-index="4"></span>
    </div>
  </div>
  <div class="slide-text">
    <h4>Welcome to Millet Bites ‚Äì Experience delicious flavour with our healthy, tasty, and affordable millet-based snacks!</h4>
    <p>Healthy | Tasty | Affordable</p>
  </div>
</section>

  <section id="menu" class="menu">
    <h2>Our Menu</h2> 
    <div class="cart-icon" id="cartIcon2" style="text-align: right;font-weight: bold; padding: 10px 10px;">
        üõíCart
        <span class="cart-count" id="cartCount2">0</span>
    </div>
    <div class="product-grid" id="product-grid"></div>
  </section>

  <section id="about" class="about-contact">
    <h2>About Us</h2>
    <p>We're a Vizag-based brand bringing healthy snacking to your doorstep.</p>
  </section>

  <section id="contact" class="about-contact" style="background: #e3f2fd;">
    <h2>Contact Us</h2>
    <p>Reach us on:</p>
    <div class="contact-icons">
      <div style="display: flex; justify-content: center; gap: 20px;">
        <a href="https://wa.me/919949840365" target="_blank">
          <img src="https://cdn-icons-png.flaticon.com/512/733/733585.png" alt="WhatsApp" style="height: 30px; width: 30px;">
        </a>
        <a href="https://instagram.com/vizagMilletBites" target="_blank">
          <img src="https://cdn-icons-png.flaticon.com/512/174/174855.png" alt="Instagram" style="height: 30px; width: 30px;">
        </a>
        <a href="tel:+919949840365" target="_blank">
          <img src="https://cdn-icons-png.flaticon.com/512/724/724664.png" alt="Phone" style="height: 30px; width: 30px;">
        </a>
      </div>
    </div>
  </section>

  <section id="reviews" class="about-contact" style="background: #fff8e1;">
    <h2>Customer Reviews</h2>
    <p>‚ÄúAbsolutely loved the Ragi Mixture‚Äîcrunchy and wholesome!‚Äù</p>
    <p>‚ÄúFast delivery, fresh taste. Will order again.‚Äù</p>
  </section>

  <footer>
    &copy; 2025 Millet Bites. All rights reserved.
  </footer>
  <a href="https://wa.me/919949840365" class="whatsapp-float" target="_blank">üí¨</a>

<script>
    // --- Unified JS for all cart/product logic ---
    let slideIndex = 1;
    let slideTimer;

    function showSlides(n) {
      const slides = document.querySelectorAll(".slides");
      const dots = document.querySelectorAll(".dot");

      if (n > slides.length) slideIndex = 1;
      if (n < 1) slideIndex = slides.length;

      slides.forEach(slide => slide.style.display = "none");
      dots.forEach(dot => dot.classList.remove("active-dot"));

      slides[slideIndex - 1].style.display = "block";
      dots[slideIndex - 1].classList.add("active-dot");
    }

    function nextSlide() {
      slideIndex++;
      showSlides(slideIndex);
    }

    function currentSlide(n) {
      clearTimeout(slideTimer);
      slideIndex = n;
      showSlides(slideIndex);
      autoSlides();
    }

    function autoSlides() {
      slideTimer = setTimeout(() => {
        nextSlide();
        autoSlides();
      }, 5000);
    }

    // --- Product data ---
    const products = [
      { name: "combo 1", image: "Hot Gavvalu.jpeg", price: 0 },
      { name: "combo 2", image: "Hot Gavvalu.jpeg", price: 299 },
      { name: "Combo 3", image: "Hot Gavvalu.jpeg", price: 399 },
      { name: "Combo 4", image: "Hot Gavvalu.jpeg", price: 599 },
      { name: "Ragi Mixture", image: "Ragi Mixture.jpeg", price: 60 },
      { name: "Ragi Chegodilu", image: "Ragi Chegodilu.jpeg", price: 60 },
      { name: "Ragi Murukkulu", image: "Ragi Murukkulu.jpeg", price: 60 },
      { name: "Jowar Mixture", image: "Jowar Mixture.jpeg", price: 60 },
      { name: "Jowar Murukkulu", image: "Jowar Murukkulu.jpeg", price: 60 },
      { name: "Jowar Ribbon Pakodi", image: "Jowar Ribbon Pakodi.jpeg", price: 60 },
      { name: "Foxtail Sev", image: "Foxtail Sev.jpeg", price: 60 },
      { name: "Arikalu Jantikalu", image: "Arikalu Jantikalu.jpeg", price: 60 },
      { name: "Samalu Boondi", image: "Samalu Boondi.jpeg", price: 60 },
      { name: "Dry Fruit Mixture", image: "Dry Fruit Mixture.jpeg", price: 180 }
    ];
    const products3 = [
      { name: "Dry Fruit Laddu", image: "Dry Fruit Laddu.jpeg", price: 300 },
      { name: "Cashew Bar", image: "Cashew Bar.jpeg", price: 200 },
      { name: "Panchadara Gavvalu", image: "Panchadara Gavvalu.jpg", price: 100 },
      { name: "Bellam Gavvalu", image: "Bellam Gavvalu.jpeg", price: 100 },
      { name: "Hot Gavvalu", image: "Hot Gavvalu.jpeg", price: 100 }
    ];
    const cart = {};

    // --- Rendering Products ---
    function renderProducts() {
      const grid = document.getElementById("product-grid");
      grid.innerHTML = ''; // clear existing content

      // Combo packs
      products.filter(product => product.name.toLowerCase().includes("combo")).forEach(product => {
        const div = document.createElement("div");
        div.className = "product-card";
        div.innerHTML = `
          <div class="discount-badge">20% OFF</div>
          <img src="${product.image}" alt="${product.name}" />
          <h4>${product.name}</h4>
          <p>‚Çπ${product.price} - pack</p>
          <div class="quantity-controls">
            <button onclick="updateCart('${product.name}', 'pack', -1)">-</button>
            <select id="select-${product.name}">
              ${[1, 2, 3, 5].map(p => `<option value="${p}">${p} Pack${p > 1 ? 's' : ''}</option>`).join('')}
            </select>
            <button onclick="updateCart('${product.name}', 'pack', 1)">+</button>
          </div>
          <div class="cart-status" id="status-${product.name}"></div>
        `;
        grid.appendChild(div);
      });

      // Non-combo snacks
      products.filter(product => !product.name.toLowerCase().includes("combo")).forEach(product => {
        const div = document.createElement("div");
        div.className = "product-card";
        div.innerHTML = `
          <div class="discount-badge">20% OFF</div>
          <img src="${product.image}" alt="${product.name}" />
          <h4>${product.name}</h4>
          <p>‚Çπ${product.price} - 100g</p>
          <div class="quantity-controls">
            <button onclick="updateCart('${product.name}', 'grams', -100)">-</button>
            <select id="select-${product.name}">
              ${[
                { value: 100, label: "100g" },
                { value: 250, label: "250g" },
                { value: 500, label: "500g" },
                { value: 1000, label: "1KG" },
                { value: 2000, label: "2KG" },
                { value: 5000, label: "5KG" }
              ].map(opt => `<option value="${opt.value}">${opt.label}</option>`).join('')}
            </select>
            <button onclick="updateCart('${product.name}', 'grams', 100)">+</button>
          </div>
          <div class="cart-status" id="status-${product.name}"></div>
        `;
        grid.appendChild(div);
      });

      products3.forEach(product => {
        const div = document.createElement("div");
        div.className = "product-card";
        div.innerHTML = `
          <div class="discount-badge">20% OFF</div>
          <img src="${product.image}" alt="${product.name}" />
          <h4>${product.name}</h4>
          <p>‚Çπ${product.price} - 100g</p>
          <div class="quantity-controls">
            <button onclick="updateCart('${product.name}', 'grams', -250)">-</button>
            <select id="select-${product.name}">
              ${[
                { value: 250, label: "250g" },
                { value: 500, label: "500g" },
                { value: 1000, label: "1KG" },
                { value: 2000, label: "2KG" },
                { value: 5000, label: "5KG" }
              ].map(opt => `<option value="${opt.value}">${opt.label}</option>`).join('')}
            </select>
            <button onclick="updateCart('${product.name}', 'grams', 250)">+</button>
          </div>
          <div class="cart-status" id="status-${product.name}"></div>
        `;
        grid.appendChild(div);
      });
    }

    function updateCart(productName, type, amount) {
      const select = document.getElementById(`select-${productName}`);
      let value = select ? parseInt(select.value) : 1;
      let product = products.find(p => p.name === productName) || products3.find(p => p.name === productName);

      if (type === "pack") {
        if (!cart[productName]) cart[productName] = { qty: 0, price: product.price };
        cart[productName].qty += amount * value;
        if (cart[productName].qty <= 0) delete cart[productName];
        updateStatus(productName, "pack");
      } else if (type === "grams") {
        if (!cart[productName]) cart[productName] = { grams: 0, price: product.price };
        cart[productName].grams += amount * value;
        if (cart[productName].grams <= 0) delete cart[productName];
        updateStatus(productName, "grams");
      }
      updateCartDisplay();
      updateCartCount();
    }

    function updateStatus(productName, type) {
      const status = document.getElementById(`status-${productName}`);
      if (cart[productName]) {
        if (type === "pack" && cart[productName].qty) {
          status.textContent = `In cart: ${cart[productName].qty} Pack`;
        } else if (type === "grams" && cart[productName].grams) {
          status.textContent = `In cart: ${cart[productName].grams >= 1000 ? (cart[productName].grams / 1000).toFixed(2) + ' kg' : cart[productName].grams + ' g'}`;
        }
      } else {
        status.textContent = "";
      }
    }

    function updateCartCount() {
      const count = Object.keys(cart).length;
      document.getElementById("cartCount").textContent = count;
      const cartCount2 = document.getElementById("cartCount2");
      if (cartCount2) cartCount2.textContent = count;
    }

    function updateCartDisplay() {
      const cartItemsContainer = document.getElementById("panel-cart-items");
      let total = 0;

      if (Object.keys(cart).length === 0) {
        cartItemsContainer.innerHTML = '<div class="empty-cart">Your cart is empty</div>';
        document.querySelector(".cart-summary p").textContent = `Total: ‚Çπ0.00`;
        return;
      }

      let cartItemsHTML = '';
      for (const item in cart) {
        const cartItem = cart[item];
        let itemTotal = 0;
        let qtyControls = "";

        if (cartItem.qty !== undefined) {
          itemTotal = cartItem.qty * cartItem.price;
          qtyControls = `
            <button onclick="adjustCartItem('${item}', -1, 'pack')">-</button>
            ${cartItem.qty} Pack
            <button onclick="adjustCartItem('${item}', 1, 'pack')">+</button>
          `;
        } else if (cartItem.grams !== undefined) {
          itemTotal = (cartItem.grams / 100) * cartItem.price;
          qtyControls = `
            <button onclick="adjustCartItem('${item}', -100, 'grams')">-</button>
            ${cartItem.grams >= 1000 ? (cartItem.grams / 1000).toFixed(2) + ' kg' : cartItem.grams + ' g'}
            <button onclick="adjustCartItem('${item}', 100, 'grams')">+</button>
          `;
        }
        total += itemTotal;

        cartItemsHTML += `
          <div class="cart-item">
            <div class="cart-item-name">${item}</div>
            <div class="cart-item-qty">${qtyControls}</div>
            <div class="cart-item-price">‚Çπ${itemTotal.toFixed(2)}</div>
          </div>
        `;
      }
      cartItemsContainer.innerHTML = cartItemsHTML;
      document.querySelector(".cart-summary p").textContent = `Total: ‚Çπ${total.toFixed(2)}`;
    }

    function adjustCartItem(productName, adjustment, type) {
      if (!cart[productName]) return;

      if (type === "pack") {
        cart[productName].qty += adjustment;
        if (cart[productName].qty <= 0) delete cart[productName];
        updateStatus(productName, "pack");
      } else if (type === "grams") {
        cart[productName].grams += adjustment;
        if (cart[productName].grams <= 0) delete cart[productName];
        updateStatus(productName, "grams");
      }
      updateCartDisplay();
      updateCartCount();
    }

    function toggleCartPanel() {
      document.getElementById("cartPanel").classList.toggle("active");
      document.getElementById("overlay").classList.toggle("active");
    }

    function sendOrder() {
      if (Object.keys(cart).length === 0) {
        alert("Your cart is empty!");
        return;
      }
      let msg = "Hello! I'd like to order:\n";
      for (const item in cart) {
        if (cart[item].qty !== undefined) {
          msg += `${item}: ${cart[item].qty} Pack\n`;
        } else if (cart[item].grams !== undefined) {
          msg += `${item}: ${cart[item].grams >= 1000 ? (cart[item].grams / 1000).toFixed(2) + ' kg' : cart[item].grams + ' g'}\n`;
        }
      }
      let total = 0;
      for (const item in cart) {
        if (cart[item].qty !== undefined) {
          total += cart[item].qty * cart[item].price;
        } else if (cart[item].grams !== undefined) {
          total += (cart[item].grams / 100) * cart[item].price;
        }
      }
      msg += `\nTotal: ‚Çπ${total.toFixed(2)}\n\nPlease confirm my order.`;
      const encodedMsg = encodeURIComponent(msg);
      window.open(`https://wa.me/919949840365?text=${encodedMsg}`, "_blank");
    }

    document.addEventListener("DOMContentLoaded", () => {
      showSlides(slideIndex);
      autoSlides();
      renderProducts();

      // Cart panel toggle
      document.getElementById("cartIcon").addEventListener("click", toggleCartPanel);
      document.getElementById("cartIcon2").addEventListener("click", toggleCartPanel);
      document.getElementById("closeCart").addEventListener("click", toggleCartPanel);
      document.getElementById("overlay").addEventListener("click", toggleCartPanel);

      // Clear cart button
      document.querySelector(".clear").addEventListener("click", () => {
        for (const item in cart) {
          delete cart[item];
          const status = document.getElementById(`status-${item}`);
          if (status) status.textContent = "";
        }
        updateCartDisplay();
        updateCartCount();
      });

      // Order button
      document.querySelector(".order").addEventListener("click", sendOrder);

      // Slideshow dots
      const dots = document.querySelectorAll(".dot");
      dots.forEach(dot => {
        dot.addEventListener("click", () => {
          const index = parseInt(dot.getAttribute("data-index"));
          currentSlide(index);
        });
      });
    });
</script>
</body>
</html>
